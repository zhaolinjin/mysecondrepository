<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>系统</title>
	<link rel="stylesheet" href="css/base.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="css/font-awesome.css">
	<link rel="stylesheet" href="css/iconfont.css">
	<link rel="stylesheet" href="css/jquery.marquee.min.css">
	<link rel="stylesheet" href="css/zTreeMyStyle.css">
	<link rel="stylesheet" href="css/zTreeStyle.css">
	<link rel="stylesheet" href="css/sweetalert.css">
	<link rel="stylesheet" href="css/mystyle.css">
	<link href="css/iCheck/custom.css" rel="stylesheet">
</head>
<body>
<div class="wrap">
<div class="header">
	<div class="logoname fl">
		<span class="f20 fw">TCRC</span>
		<span class="f14">&nbsp;Operation Center</span>
	</div>
	<div class="infoshow fr pr-20">
		<div class="email fl ml-30 relative">
			<i class="iconfont icon-iconfontcolor06 c-white"></i>
			<span class="badge bg-blue">12</span>
		</div>
		<div class="ring fl ml-30 relative">
			<i class="iconfont icon-xiaoxi c-white"></i>
			<span class="badge bg-orange">5</span>
		</div>
		<div class="exit fl ml-30">
			<i class="iconfont icon-signout c-white"></i>
			<span class="c-white">&nbsp;退出</span>
		</div>
		<div class="user fl ml-20 dropdown pointer relative">
			<span class="c-white dropdown-toggle" data-toggle="dropdown">用户名 <i class="glyphicon glyphicon-triangle-bottom c-white middle f12"></i></span>
			<ul class="dropdown-menu">
        <li data-toggle="modal" data-target="#changeInfor"><a href="##"><span class="glyphicon glyphicon-edit"></span>&nbsp;修改信息</a></li>
        <li data-toggle="modal" data-target="#changePassword"><a href="##"><span class="icon-key"></span>&nbsp;修改密码</a></li>
       </li>
      </ul>
		</div>
	</div>
</div>
<div class="nav-bar">
	<ul class="fl navwidth">
		<li>
			<a href="##">
				<i class="iconfont icon-gailan"></i>
				<span class="f16">&nbsp;首页</span>
			</a>
		</li>
		<li>
			<a class="border-leftnone" href="##">
				<i class="iconfont icon-ziyuan"></i>
				<span class="f16">&nbsp;资源</span>
			</a>
		</li>
		<li>
			<a class="border-leftnone" href="##">
				<i class="iconfont icon-ziyuanguanli"></i>
				<span class="f16">&nbsp;设备</span>
			</a>
		</li>
		<li>
			<a class="border-leftnone" href="##">
				<i class="iconfont icon-yewufuwuguanli"></i>
				<span class="f16">&nbsp;业务</span>
			</a>
		</li>
		<li>
			<a class="border-leftnone" href="##">
				<i class="iconfont icon-tongjibaobiao"></i>
				<span class="f16">&nbsp;报表</span>
			</a>
		</li>
		<li>
			<a class="active" class="border-leftnone" href="##">
				<i class="iconfont icon-xitongguanli"></i>
				<span class="f16">&nbsp;系统</span>
			</a>
		</li>
	</ul>
	<div class="search-bar fr pr-20">
		<div class="input-group mt-12">
		  <input type="text" class="form-control" placeholder="搜索">
		  <span class="input-group-addon pointer"><i class="iconfont icon-fangdajing c-white"></i></span>
		</div>
	</div>
</div>
<div class="contentwrap">
	<div class="g-bd6">
	    <div class="g-sd61">
	       <div class="notice pl-10" style="height: 630px">
	       		<div id="treeDemo" class="ztree"></div>
	       </div> 
	    </div>
	    <div class="g-mn6">
	        <div class="g-mn6c">
	            <p class="f14" id="contentTitle">	
	            	<span>系统管理</span>
	            	<span>&gt;角色</span>
	            </p>
	            <div class="notice">
		            <div class="tabs-list">
		            	<ul>
		            		<li class="tabs-active">角色</li>
		            		<li>日志</li>
		            	</ul>
		            </div>
		            <div class="pl-20 pr-20 mt-20">
			            <div class="controlTable">
										<button type="button" class="btn btn-primary btn-sm delete pl-10 pr-10">
											<i class="glyphicon glyphicon-trash"></i>
											删除
										</button>
										<div class="search-bar fr w-170">
											<div class="input-group" id="newStyle">
											  <input type="text" class="form-control" placeholder="搜索">
											  <span class="input-group-addon pointer"><i class="iconfont icon-fangdajing c-white"></i></span>
											</div>
										</div>
										<div class="clearfloat"></div>
			            </div>
		            </div>
		            <div class="pr-20 pl-20 mt-20">
									<table class="table table-striped border-bottom">
									  <thead class="f16 c-gray" id="headTable">
										  <tr>
											  <th>
											  	<input type="checkbox" name="box"/>
											  </th>
											  <th>角色ID</th>
											  <th>角色名称</th>
											  <th>管理</th>
										  </tr>
									  </thead>
									  <tbody class="collapse-table" id="eventTable">
										  <tr>
										  	<td>
										  		<input type="checkbox" name="box"/>
										  	</td>
										  	<td>role1</td>
										  	<td>超级管理员</td>
										  	<td>
										  		<select class=" h-25 inline select-width border-none chooseModal1">
										  				<option></option>
			                        <option>编辑</option>
			                        <option>管理用户</option>
			                        <option>删除</option>
			                    </select>
										  	</td>
										  </tr>
								  		<tr>
										  	<td>
										  		<input type="checkbox" name="box"/>
										  	</td>
										  	<td>role2</td>
										  	<td>超级管理员</td>
										  	<td>
										  		<select class=" h-25 inline select-width border-none chooseModal1">
										  				<option></option>
			                        <option>编辑</option>
			                        <option>管理用户</option>
			                        <option>删除</option>
			                    </select>
										  	</td>
										  </tr>
										  <tr>
										  	<td>
										  		<input type="checkbox" name="box"/>
										  	</td>
										  	<td>role3</td>
										  	<td>超级管理员</td>
										  	<td>
										  		<select class=" h-25 inline select-width border-none chooseModal1">
										  				<option></option>
			                        <option>编辑</option>
			                        <option>管理用户</option>
			                        <option>删除</option>
			                    </select>
										  	</td>
										  </tr>
									  </tbody>
									</table>
								</div>
								<div class="row form-group fr pr-20">
	                <div class="col-sm-12 page-contener">
	                    <span class="f16 c-666">合计：22 每页&nbsp;</span>
	                    <select class=" h-25 inline select-width border-none chooseModal">
	                        <option>10</option>
	                        <option>20</option>
	                        <option>50</option>
	                        <option>100</option>
	                    </select>
	                    <button type="button" class="btn btn-sm"><i class="fa fa-angle-left"></i></button>
	                    <span><i>1</i>/6</span>
	                    <button type="button" class="btn btn-sm"><i class="fa fa-angle-right"></i></button>
	                </div>
	           		</div>
	           		<div class="clearfloat"></div>
	           		<div class=" pl-20 pr-20">
		           		<div class="notice1">
										<div class="notice1-title relative">
											详情
										</div>
										<div class="notice-content pl-20" style="height: 182px;overflow-y: auto;" id="details">
												
										</div>
									</div>
								</div>
	            </div>													
	        </div>
	    </div>
	    <div class="g-sd62">
   			  <div class="notice mt-30 relative">
						<div class="notice-title">
							快速启动
							<i class="iconfont icon-iconfontshezhi absolute r-10 absolute-top5"></i>
						</div>
						<div class="notice-content pb-45">
							<ul class="quickset">
								<li data-toggle="modal" data-target="#addrole">
									<a href="##">
										<div class="fl">
											<img src="images/role.png" alt="">
										</div>
										<div class="pitname mt-5 c-44a">添加角色</div>
										<div class="clearfloat"></div>
									</a>
								</li>								
							</ul>
						</div>
	        </div>
	        <div class="notice mt-20 pb-0">
						<div class="notice-title relative">
							任务
							<i class="iconfont icon-gengduo absolute r-10 absolute-top5"></i>
						</div>
						<div class="notice-content pl-20 pr-20">
							<ul class="taskSystem">
								<li>
									<div class="progessInfor">
										<span class="">crmtest01虚拟机迁移</span>
										<div class="fr progressNumber c-009">100%</div>
									</div>
								  <div class="progress">
									  <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
									    <span class="sr-only">100% Complete</span>
									  </div>
									</div>
								</li>
								<li>
									<div class="progessInfor">
										<span class="">虚拟机克隆</span>
										<div class="fr progressNumber c-009">100%</div>
									</div>
								  <div class="progress">
									  <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
									    <span class="sr-only">100% Complete</span>
									  </div>
									</div>
								</li>
								<li>
									<div class="progessInfor">
										<span class="">生成性能分析报告</span>
										<div class="fr progressNumber c-009">30%</div>
									</div>
								  <div class="progress">
									  <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100" style="width: 30%">
									    <span class="sr-only">30% Complete</span>
									  </div>
									</div>
								</li>
							</ul>
						</div>
	        </div>
	        <div class="notice mt-20 pb-0">
						<div class="notice-title relative">
							告警
							<i class="iconfont icon-gengduo absolute r-10 absolute-top5"></i>
						</div>
						<div class="notice-content pl-20">
							<ol class="task pl-20">
								<li>
								  创建虚拟机失败
								</li>
								<li>
								  TDS集群ODS读写错误
								</li>
								<li>
								  CiscoN读写错误
								</li>
								<li>
								  LTM1K6端口流量异常
								</li>
							</ol>
						</div>
	        </div>
	    </div>
	</div>
	<div class="clearfloat"></div>
</div>
</div>
<div class="bottom">
		<div class="copy">CopyRight 2017 Trendy Technology Ltd.</div>
</div>
</div>
<div class="container-fluid">
    <!-- 模态框（Modal1） -->  
  <div class="modal fade" id="changeInfor">
      <div class="modal-dialog">  
          <div class="modal-content">  
              <div class="modal-header">  
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">  
								        ×  
								  </button>  
					        <h4 class="modal-title txt-left f16 c-666 fw" id="myModalLabel">  
					        修改信息  
					    		</h4>  
              </div>  
              <div class="modal-body">  
                  <form class="form-horizontal pl-20 pr-20">
									  <div class="form-group">
									    <label class="col-sm-2 control-label">姓名</label>
									    <div class="col-sm-10">
									      <input type="text" class="form-control" placeholder="username">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-sm-2 control-label">手机</label>
									    <div class="col-sm-10">
									      <input type="text" class="form-control" placeholder="123456789">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-sm-2 control-label">email</label>
									    <div class="col-sm-10">
									      <input type="email" class="form-control" placeholder="email">
									    </div>
									  </div>
									</form> 
              </div> 
              <div class="modal-footer">  
                  <button type="button" class="btn btn-primary">确认  
  								</button>  
                  <button type="button" class="btn btn-default" data-dismiss="modal">  
     									取消  
 									 </button>  
              </div>  
          </div>  
          <!-- /.modal-content -->  
      </div>  
      <!-- /.modal --> 
  </div>
  <!-- 模态框（Modal2） -->
  <div class="modal fade" id="changePassword">
      <div class="modal-dialog">  
          <div class="modal-content">  
              <div class="modal-header">  
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">  
								        ×  
								  </button>  
					        <h4 class="modal-title txt-left f16 c-666 fw" id="myModalLabel">  
					        修改密码  
					    		</h4>  
              </div>  
              <div class="modal-body">  
                  <form class="form-horizontal pl-20 pr-20">
									  <div class="form-group">
									    <label class="col-sm-3 control-label">原始密码</label>
									    <div class="col-sm-9">
									      <input type="password" class="form-control" placeholder="12345">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-sm-3 control-label">新密码</label>
									    <div class="col-sm-9">
									      <input type="password" class="form-control" placeholder="12345">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-sm-3 control-label">确认密码</label>
									    <div class="col-sm-9">
									      <input type="password" class="form-control" placeholder="12345">
									    </div>
									  </div>
									</form> 
              </div> 
              <div class="modal-footer">  
                  <button type="button" class="btn btn-primary">确认  
  								</button>  
                  <button type="button" class="btn btn-default" data-dismiss="modal">  
     									取消  
 									 </button>  
              </div>  
          </div>  
          <!-- /.modal-content -->  
      </div>  
      <!-- /.modal --> 
  </div>
  <!-- 模态框（Modal3） -->
  <div class="modal fade" id="addrole">
      <div class="modal-dialog">  
          <div class="modal-content">  
              <div class="modal-header">  
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">  
								        ×  
								  </button>  
					        <h4 class="modal-title txt-left f16 c-666 fw" id="myModalLabel">  
					        添加角色  
					    		</h4>  
              </div>  
              <div class="modal-body">  
                  <form class="form-horizontal pl-20 pr-20">
									  <div class="form-group">
									    <label class="col-sm-3 control-label">角色ID<span class="c-red">*</span></label>
									    <div class="col-sm-9">
									      <input type="text" class="form-control" placeholder="">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-sm-3 control-label">角色名称<span class="c-red">*</span></label>
									    <div class="col-sm-9">
									      <input type="text" class="form-control" placeholder="">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-sm-3 control-label">角色描述</label>
									    <div class="col-sm-9">
									      <textarea class="form-control" ></textarea>
									    </div>
									  </div>
									</form>
									<div class="roleAuthority">
										<div class="roleTitle">角色权限</div>
										<div id="mytreeDemo" class="myztree" style="height: 200px;overflow-y: auto;"></div>
									</div> 
              </div> 
              <div class="modal-footer">  
                  <button type="button" class="btn btn-primary">添加  
  								</button>  
                  <button type="button" class="btn btn-default" data-dismiss="modal">  
     									取消  
 									 </button>  
              </div>  
          </div>  
          <!-- /.modal-content -->  
      </div>  
      <!-- /.modal --> 
  </div>
  <!-- 模态框（Modal4） -->
  <div class="modal fade" id="editrole">
      <div class="modal-dialog">  
          <div class="modal-content">  
              <div class="modal-header">  
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">  
								        ×  
								  </button>  
					        <h4 class="modal-title txt-left f16 c-666 fw" id="myModalLabel">  
					        编辑角色  
					    		</h4>  
              </div>  
              <div class="modal-body">  
                  <form class="form-horizontal pl-20 pr-20">
									  <div class="form-group">
									    <label class="col-sm-3 control-label">角色名称<span class="c-red">*</span></label>
									    <div class="col-sm-9">
									      <input type="text" class="form-control" placeholder="">
									    </div>
									  </div>
									  <div class="form-group">
									    <label class="col-sm-3 control-label">角色描述</label>
									    <div class="col-sm-9">
									      <textarea class="form-control" ></textarea>
									    </div>
									  </div>
									</form>
									<div class="roleAuthority">
										<div class="roleTitle">角色权限</div>
										<div id="mytreeDemo1" class="myztree" style="height: 200px;overflow-y: auto;"></div>
									</div> 
              </div>  
              <div class="modal-footer">  
                  <button type="button" class="btn btn-primary">完成  
  								</button>  
                  <button type="button" class="btn btn-default" data-dismiss="modal">  
     									取消  
 									 </button>  
              </div>  
          </div>  
          <!-- /.modal-content -->  
      </div>  
      <!-- /.modal --> 
  </div>
  <!-- 模态框（Modal5） -->
  <div class="modal fade" id="edituser">
      <div class="modal-dialog">  
          <div class="modal-content">  
              <div class="modal-header">  
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">  
								        ×  
								  </button>  
					        <h4 class="modal-title txt-left f16 c-666 fw" id="myModalLabel">  
					        管理用户-超级管理员角色  
					    		</h4>  
              </div>  
              <div class="modal-body">  
                <div class="search-bar w-170 ml-200">
											<div class="input-group" id="newStyle">
											  <input type="text" class="form-control" placeholder="按姓名查询用户">
											  <span class="input-group-addon pointer c-white">查询</span>
											</div>
								</div>
								<div class="pl-100 pr-100 mt-20">
										<div class="centent fl">
								    		<div class="mb-10 pl-20">为分配本角色用户</div>
								        <select multiple="multiple" id="select1" style="width:160px;height:160px;">
								            <option value="1">选项1</option>
								            <option value="2">选项2</option>
								            <option value="3">选项3</option>
								            <option value="4">选项4</option>
								            <option value="5">选项5</option>
								            <option value="6">选项6</option>
								            <option value="7">选项7</option>
								        </select>								     
								    </div>
								    <div class="fl">
											<ul class="f0 mt-90 ml-15">
												<li id="add"><img src="images/arrowRight.png" alt="" /></li>
												<li id="remove"><img src="images/arrowLeft.png" alt="" /></li>
											</ul>
								    </div>
								    <div class="centent fr">
								    		<div class="mb-10 pl-20">已分配本角色用户</div>
								        <select multiple="multiple" id="select2" style="width: 160px;height:160px;">
								        </select>
								    </div>
								    <div class="clearfloat"></div>
								    <div class="buttonGroup fr mt-20">  
			                  <button type="button" class="btn btn-primary btn-xs" id="add_all">全部添加 
			  								</button>  
			                  <button type="button" class="btn btn-primary btn-xs" id="remove_all">  
			     									清空  
			 									 </button>  
			              </div>
			              <div class="clearfloat"></div>
								</div> 
              </div> 
              <div class="modal-footer">  
                  <button type="button" class="btn btn-primary">完成  
  								</button>  
                  <button type="button" class="btn btn-default" data-dismiss="modal">  
     									取消  
 									 </button>  
              </div>  
          </div>  
          <!-- /.modal-content -->  
      </div>  
      <!-- /.modal --> 
  </div>
</div>
<script src="js/jquery-2.1.1.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.ztree.core.min.js"></script>
<script src="js/icheck.min.js"></script>
<script src="js/sweetalert.min.js"></script>
<script src="js/jquery.ztree.excheck.min.js"></script>
<script src="js/myjs.js"></script>
<script type="text/javascript">
	$('input[type=checkbox]').iCheck({
             checkboxClass: 'icheckbox_square-green'
         });
        $('input[type=radio]').iCheck({
             radioClass: 'iradio_square-green'
     });
  $('#headTable input[type=checkbox]').on('ifChecked', function(event){
	   $('input').iCheck('check');
	});
   $('#headTable input[type=checkbox]').on('ifUnchecked', function(event){
		$('input').iCheck('uncheck');
	});
     var zTreeObj;
     var myztreeObj;
   // zTree 的参数配置，深入使用请参考 API 文档（setting 配置详解）
   var setting = {    
            check:{
                enable:true
            },
            data:    {
                simpleData:{
                    enable:true
                }
            },
            callback:{
                onClick:onCheck
            }           
    };
    var mysetting = {
			check: {
				enable: true
			},
			data: {
				simpleData: {
					enable: true
				}
			}
		};
    
   // zTree 的数据属性，深入使用请参考 API 文档（zTreeNode 节点数据详解）
   var zNodes = [
   {name:"系统管理",open:true, children:[
      {name:"用户管理",open:true}, 
      {name:"角色管理",open:true},
      {name:"告警设置",open:true},
      {name:"系统参数",open:true},
      {name:"授权许可",open:true}
      	]},  
   ];
   var myzNodes =[
			{ id:1, pId:0, name:"运维门户", open:true},
			{ id:11, pId:1, name:"首页", open:false},
			{ id:111, pId:11, name:"随意勾选 1-1-1"},
			{ id:112, pId:11, name:"随意勾选 1-1-2"},
			{ id:12, pId:1, name:"资源", open:false},
			{ id:121, pId:12, name:"随意勾选 1-2-1"},
			{ id:122, pId:12, name:"随意勾选 1-2-2"},
			{ id:13, pId:1, name:"设备", open:false},
			{ id:131, pId:13, name:"随意勾选 1-2-1"},
			{ id:132, pId:13, name:"随意勾选 1-2-2"},
			{ id:14, pId:1, name:"业务", open:false},
			{ id:141, pId:14, name:"随意勾选 1-2-1"},
			{ id:142, pId:14, name:"随意勾选 1-2-2"},
			{ id:15, pId:1, name:"报表", open:false},
			{ id:151, pId:15, name:"随意勾选 1-2-1"},
			{ id:152, pId:15, name:"随意勾选 1-2-2"},
			{ id:16, pId:1, name:"系统", open:false},
			{ id:161, pId:16, name:"随意勾选 1-2-1"},
			{ id:162, pId:16, name:"随意勾选 1-2-2"},
			{ id:3, pId:0, name:"运营门户", checked:false, open:false},
			{ id:32, pId:3, name:"随意勾选 2-2", open:false},
			{ id:321, pId:32, name:"随意勾选 2-2-1", checked:false},
			{ id:322, pId:32, name:"随意勾选 2-2-2"},
			{ id:4, pId:0, name:"自服务门户", checked:false, open:false},
			{ id:42, pId:4, name:"随意勾选 2-2", open:false},
			{ id:421, pId:42, name:"随意勾选 2-2-1", checked:false},
			{ id:422, pId:42, name:"随意勾选 2-2-2"},
		];
  
   $(document).ready(function(){
      zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, zNodes);
      $.fn.zTree.init($("#mytreeDemo"), mysetting, myzNodes);
      $.fn.zTree.init($("#mytreeDemo1"), mysetting, myzNodes);
      $.fn.zTree.init($("#mytreeDemo2"), mysetting, myzNodes);
			setCheck();
			$("#py").bind("change", setCheck);
			$("#sy").bind("change", setCheck);
			$("#pn").bind("change", setCheck);
			$("#sn").bind("change", setCheck);
   });
   var code;	
		function setCheck() {
			var zTree = $.fn.zTree.getZTreeObj("treeDemo"),
			py = $("#py").attr("checked")? "p":"",
			sy = $("#sy").attr("checked")? "s":"",
			pn = $("#pn").attr("checked")? "p":"",
			sn = $("#sn").attr("checked")? "s":"",
			type = { "Y":py + sy, "N":pn + sn};
			zTree.setting.check.chkboxType = type;
			showCode('setting.check.chkboxType = { "Y" : "' + type.Y + '", "N" : "' + type.N + '" };');
		}
		function showCode(str) {
			if (!code) code = $("#code");
			code.empty();
			code.append("<li>"+str+"</li>");
		}
   function onCheck(e,treeId,treeNode){
   	var level=treeNode.level;
   	if(level==3){
			var parentNode1=treeNode.getParentNode();
			var parentNode2=parentNode1.getParentNode();
			var parentNode3=parentNode2.getParentNode();
			var parentname=parentNode3.name+"&gt"+parentNode2.name+"&gt"+parentNode1.name+"&gt"+treeNode.name;
   	}else if(level==2){
 			var parentNode1=treeNode.getParentNode();
			var parentNode2=parentNode1.getParentNode();
			var parentname=parentNode2.name+"&gt"+parentNode1.name+"&gt"+treeNode.name;
   	}else if(level==1){
   		var parentNode1=treeNode.getParentNode();
			var parentname=parentNode1.name+"&gt"+treeNode.name;
   	}else{
   		var parentname=treeNode.name;
   	}
   	$("#contentTitle").children("span:first-child").html(parentname);
    //alert(parentname)
	}



	
   
		
		
		

</script>
</body>
</html>